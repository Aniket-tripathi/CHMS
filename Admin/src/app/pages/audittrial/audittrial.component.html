<div class="container-fluid">
    <app-page-title title="AuditTrial" [breadcrumbItems]="breadCrumbItems"></app-page-title>
    <div class="row">
        <div class="col-12">
            <div class="card">
                <div class="card-body" *ngIf="types !== 'cstaff'">
                    <h4 class="card-title">AuditTrial Table</h4>

                    <div class="row mb-md-2">
                        <div class="col-sm-12 col-md-6">
                            <div class="dataTables_length" id="staff-table_length">
                                <label class="d-inline-flex align-items-center">Show
                                    <select name="pageSize" aria-controls="staff-table" [(ngModel)]="pageSize"
                                        class="form-control form-control-sm mx-2">
                                        <option [ngValue]="10">10</option>
                                        <option [ngValue]="25">25</option>
                                        <option [ngValue]="50">50</option>
                                        <option [ngValue]="100">100</option>
                                    </select> entries
                                </label>
                            </div>
                        </div>
                        <div class="col-sm-12 col-md-6">
                            <div id="staff-table_filter" class="dataTables_filter text-md-end">
                                <label class="d-inline-flex align-items-center">Search:
                                    <input type="text" class="form-control form-control-sm ms-2">
                                </label>
                            </div>
                        </div>
                    </div>

                    <!-- Table -->
                    <div class="table-responsive">
                        <table id="staff-datatable" class="table table-bordered dt-responsive nowrap">
                            <thead>
                                <tr>
                                    <th (click)="onSort('id')">ID</th>
                                    <th (click)="onSort('username')">message</th>
                                    <th (click)="onSort('clinicname')">Clinic Name</th>
                                    <th (click)="onSort('email')">ipAddress</th>
                                    <th (click)="onSort('qualification')">platform</th>
                                    <th (click)="onSort('adddate')">agent</th>
                                    <th (click)="onSort('staffType')">userType</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let audittrial of filteredaudittrial$ | async; let i = index">
                                    <td>{{ i + 1 }}</td>
                                    <td>{{ audittrial.message }}</td>
                                    <td>{{ audittrial.clinicname }}</td>
                                    <td>{{ audittrial.ipAddress }}</td>
                                    <td>{{ audittrial.platform }}</td>
                                    <td>{{ audittrial.agent }}</td>
                                    <td>{{ audittrial.userType }}</td>
                                </tr>

                            </tbody>
                        </table>
                    </div>
                    <div class="mb-3 d-flex justify-content-between">
                        <!-- <span>Total Clinics: {{ totalStaffs }}</span> -->

                        <!-- Pagination Controls -->
                        <div class="pagination-controls" style="text-align: right;">
                            <button (click)="onPageChange(page - 1)" [disabled]="page === 1" class="pagination-button">
                                Previous
                            </button>
                            <button (click)="onPageChange(page + 1)" [disabled]="page * pageSize >= totalStaffs"
                                class="pagination-button">
                                Next
                            </button>
                        </div>
                    </div>
                    <style>
                        .pagination-button {
                            padding: 5px 10px;
                            font-size: 12px;
                            background-color: #f1f1f1;
                            color: #333;
                            border: 1px solid #ddd;
                            border-radius: 3px;
                            cursor: pointer;
                            margin-right: 5px;
                            transition: border-color 0.3s, background-color 0.3s;
                        }

                        .pagination-button:hover {
                            border-color: #007bff;
                            background-color: #f9f9f9;
                        }

                        .pagination-button:disabled {
                            cursor: not-allowed;
                            opacity: 0.6;
                        }
                    </style>

                </div>
                <div class="card-body" *ngIf="types == 'cstaff'">
                    <div
                        style="padding: 20px; margin: 20px 0; border-radius: 5px; background-color: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; border-left: 5px solid #f44336; font-family: Arial, sans-serif; font-size: 16px;">
                        <strong>Security Notice!</strong> This is a confidential audittrial Data list for the clinic. To
                        ensure
                        the privacy and security of our team, this information is restricted. If you are a staff member,
                        you will not have access to this list for security purposes.
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>